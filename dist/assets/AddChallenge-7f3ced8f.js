import{_ as x,r as B,o as f,c as w,b as e,w as t,e as E,f as C,d as i,p as U,g as P,a as g}from"./index-c36c71de.js";import{e as S,d as N,E as k,a as q}from"./el-progress-b4568a12.js";import{E as R,a as z}from"./el-button-02e3f044.js";import{a as A,E as D}from"./el-col-6f6976f2.js";import{E as O,a as T}from"./el-upload-f85d8d5f.js";import"./el-icon-bd3acefe.js";import"./el-tag-bc2daaa7.js";import"./el-scrollbar-c5918660.js";import"./el-popper-e3bca2b4.js";import{E as j}from"./index-7bbb7502.js";import"./index-3acd9814.js";import"./index-9f2e366b.js";import"./icon-ec529186.js";import"./typescript-defaf979.js";import"./use-global-config-9c175522.js";const G={data(){return{formSize:"default",ruleFormRef:null,ruleForm:{challenge_name:"",challenge_type:"",description:"",init_score:"",image_name:"",port:"",cpuCount:""},dynamic:!1,rules:{name:[{required:!0,message:"Please input challenge name",trigger:"blur"}],type:[{required:!0,message:"Please select challenge type",trigger:"change"}],score:[{required:!0,message:"Please input challenge score",trigger:"change"},{validator:(n,l,s)=>{const p=parseInt(l);isNaN(p)?s(new Error("Score must be a number")):p<=0||p>=1e4?s(new Error("Score must be greater than 0 and less than 10000")):s()},trigger:"change"}],desc:[{required:!0,message:"Please input challenge description",trigger:"blur"}],image:[{required:!0,message:"Please Input image name",trigger:"blur"}],port:[{required:!0,message:"Please Input port num",trigger:"blur"}],flag:[{required:!0,message:"Please Input flag",trigger:"blur"}]}}},methods:{async submitForm(n){n&&await n.validate((l,s)=>{l?console.log("submit!"):console.log("error submit!",s)})},resetForm(n){n&&n.resetFields()}},computed:{options(){return Array.from({length:1e4}).map((n,l)=>({value:`${l+1}`,label:`${l+1}`}))}}},H=n=>(U("data-v-7269d81e"),n=n(),P(),n),J={class:"Background"},K=H(()=>g("div",{class:"el-upload__text"},[i(" Drop file here or "),g("em",null,"click to upload")],-1));function L(n,l,s,p,o,c){const u=R,a=N,m=k,b=q,V=B("upload-filled"),F=j,y=O,h=T,d=A,I=D,_=z,v=S;return f(),w("div",J,[e(v,{ref:"ruleFormRef",model:o.ruleForm,rules:o.rules,"label-width":"120px",class:"demo-ruleForm",size:o.formSize,"status-icon":""},{default:t(()=>[e(I,null,{default:t(()=>[e(d,{span:11},{default:t(()=>[e(a,{label:"挑战名称",prop:"name",class:"challName InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.challenge_name,"onUpdate:modelValue":l[0]||(l[0]=r=>o.ruleForm.challenge_name=r),placeholder:"challenge name"},null,8,["modelValue"])]),_:1}),e(a,{label:"挑战类型",prop:"type",class:"InputBox"},{default:t(()=>[e(b,{modelValue:o.ruleForm.challenge_type,"onUpdate:modelValue":l[1]||(l[1]=r=>o.ruleForm.challenge_type=r),placeholder:"challenge type",class:"InputBox"},{default:t(()=>[e(m,{label:"misc",value:"misc"}),e(m,{label:"web",value:"web"}),e(m,{label:"crypto",value:"crypto"}),e(m,{label:"reverse",value:"reverse"}),e(m,{label:"pwn",value:"pwn"})]),_:1},8,["modelValue"])]),_:1}),e(a,{label:"挑战分数",prop:"score",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.init_score,"onUpdate:modelValue":l[2]||(l[2]=r=>o.ruleForm.init_score=r),placeholder:"challenge score"},null,8,["modelValue"])]),_:1}),e(a,{label:"挑战附件",prop:"attachment",class:"InputBox"},{default:t(()=>[e(y,{class:"upload-demo InputBox",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{default:t(()=>[e(F,{class:"el-icon--upload"},{default:t(()=>[e(V)]),_:1}),K]),_:1})]),_:1}),e(a,{label:"挑战描述",prop:"desc",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.description,"onUpdate:modelValue":l[3]||(l[3]=r=>o.ruleForm.description=r),type:"textarea",placeholder:"challenge description"},null,8,["modelValue"])]),_:1}),e(a,{label:"开启动态靶机"},{default:t(()=>[e(h,{modelValue:o.dynamic,"onUpdate:modelValue":l[4]||(l[4]=r=>o.dynamic=r),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(a,{label:"flag",prop:"flag",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.port,"onUpdate:modelValue":l[5]||(l[5]=r=>o.ruleForm.port=r),placeholder:"port number"},null,8,["modelValue"])]),_:1})]),_:1}),e(d,{span:2}),o.dynamic?C("",!0):(f(),E(d,{key:0,span:11},{default:t(()=>[e(a,{label:"镜像名",prop:"image",class:"challName InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.image_name,"onUpdate:modelValue":l[6]||(l[6]=r=>o.ruleForm.image_name=r),placeholder:"image name"},null,8,["modelValue"])]),_:1}),e(a,{label:"端口",prop:"port",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.port,"onUpdate:modelValue":l[7]||(l[7]=r=>o.ruleForm.port=r),placeholder:"port number"},null,8,["modelValue"])]),_:1}),e(a,{label:"CPU数量",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.cpuCount,"onUpdate:modelValue":l[8]||(l[8]=r=>o.ruleForm.cpuCount=r),placeholder:"CPU count"},null,8,["modelValue"])]),_:1}),e(a,{label:"内存上限",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.memry,"onUpdate:modelValue":l[9]||(l[9]=r=>o.ruleForm.memry=r),placeholder:"memry limit"},null,8,["modelValue"])]),_:1})]),_:1}))]),_:1}),e(a,null,{default:t(()=>[e(_,{type:"primary",onClick:l[10]||(l[10]=r=>c.submitForm(o.ruleFormRef))},{default:t(()=>[i(" Create ")]),_:1}),e(_,{onClick:l[11]||(l[11]=r=>c.resetForm(o.ruleFormRef))},{default:t(()=>[i("Reset")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])])}const se=x(G,[["render",L],["__scopeId","data-v-7269d81e"]]);export{se as default};
