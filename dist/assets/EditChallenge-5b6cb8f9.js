import{_ as x,r as E,o as g,c as B,a as d,t as w,b as e,w as t,e as C,f as U,d as c,p as S,g as P}from"./index-c36c71de.js";import{e as N,d as k,E as q,a as R}from"./el-progress-b4568a12.js";import{E as z,a as D}from"./el-button-02e3f044.js";import{a as A,E as O}from"./el-col-6f6976f2.js";import{E as T,a as j}from"./el-upload-f85d8d5f.js";import"./el-icon-bd3acefe.js";import"./el-tag-bc2daaa7.js";import"./el-scrollbar-c5918660.js";import"./el-popper-e3bca2b4.js";import{E as G}from"./index-7bbb7502.js";import"./index-3acd9814.js";import"./index-9f2e366b.js";import"./icon-ec529186.js";import"./typescript-defaf979.js";import"./use-global-config-9c175522.js";const H={data(){return{formSize:"default",ruleFormRef:null,ruleForm:{challenge_name:"",challenge_type:"",description:"",init_score:"",image_name:"",port:"",cpuCount:""},dynamic:!1,rules:{name:[{required:!0,message:"Please input challenge name",trigger:"blur"}],type:[{required:!0,message:"Please select challenge type",trigger:"change"}],score:[{required:!0,message:"Please input challenge score",trigger:"change"},{validator:(a,l,s)=>{const p=parseInt(l);isNaN(p)?s(new Error("Score must be a number")):p<=0||p>=1e4?s(new Error("Score must be greater than 0 and less than 10000")):s()},trigger:"change"}],desc:[{required:!0,message:"Please input challenge description",trigger:"blur"}],image:[{required:!0,message:"Please Input image name",trigger:"blur"}],port:[{required:!0,message:"Please Input port num",trigger:"blur"}],flag:[{required:!0,message:"Please Input flag",trigger:"blur"}]}}},methods:{async submitForm(a){a&&await a.validate((l,s)=>{l?console.log("submit!"):console.log("error submit!",s)})},resetForm(a){a&&a.resetFields()}},computed:{options(){return Array.from({length:1e4}).map((a,l)=>({value:`${l+1}`,label:`${l+1}`}))}}},J=a=>(S("data-v-2f4d5799"),a=a(),P(),a),K={class:"Background"},L=J(()=>d("div",{class:"el-upload__text"},[c(" Drop file here or "),d("em",null,"click to upload")],-1));function M(a,l,s,p,o,_){const u=z,n=k,m=q,b=R,V=E("upload-filled"),F=G,y=T,h=j,i=A,I=O,f=D,v=N;return g(),B("div",K,[d("h3",null,w(a.$route.params.cid),1),e(v,{ref:"ruleFormRef",model:o.ruleForm,rules:o.rules,"label-width":"120px",class:"demo-ruleForm",size:o.formSize,"status-icon":""},{default:t(()=>[e(I,null,{default:t(()=>[e(i,{span:11},{default:t(()=>[e(n,{label:"挑战名称",prop:"name",class:"challName InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.challenge_name,"onUpdate:modelValue":l[0]||(l[0]=r=>o.ruleForm.challenge_name=r),placeholder:"challenge name"},null,8,["modelValue"])]),_:1}),e(n,{label:"挑战类型",prop:"type",class:"InputBox"},{default:t(()=>[e(b,{modelValue:o.ruleForm.challenge_type,"onUpdate:modelValue":l[1]||(l[1]=r=>o.ruleForm.challenge_type=r),placeholder:"challenge type",class:"InputBox"},{default:t(()=>[e(m,{label:"misc",value:"misc"}),e(m,{label:"web",value:"web"}),e(m,{label:"crypto",value:"crypto"}),e(m,{label:"reverse",value:"reverse"}),e(m,{label:"pwn",value:"pwn"})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"挑战分数",prop:"score",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.init_score,"onUpdate:modelValue":l[2]||(l[2]=r=>o.ruleForm.init_score=r),placeholder:"challenge score"},null,8,["modelValue"])]),_:1}),e(n,{label:"挑战附件",prop:"attachment",class:"InputBox"},{default:t(()=>[e(y,{class:"upload-demo InputBox",drag:"",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",multiple:""},{default:t(()=>[e(F,{class:"el-icon--upload"},{default:t(()=>[e(V)]),_:1}),L]),_:1})]),_:1}),e(n,{label:"挑战描述",prop:"desc",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.description,"onUpdate:modelValue":l[3]||(l[3]=r=>o.ruleForm.description=r),type:"textarea",placeholder:"challenge description"},null,8,["modelValue"])]),_:1}),e(n,{label:"开启动态靶机"},{default:t(()=>[e(h,{modelValue:o.dynamic,"onUpdate:modelValue":l[4]||(l[4]=r=>o.dynamic=r),class:"ml-2","inline-prompt":"",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(n,{label:"flag",prop:"flag",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.port,"onUpdate:modelValue":l[5]||(l[5]=r=>o.ruleForm.port=r),placeholder:"port number"},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{span:2}),o.dynamic?U("",!0):(g(),C(i,{key:0,span:11},{default:t(()=>[e(n,{label:"镜像名",prop:"image",class:"challName InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.image_name,"onUpdate:modelValue":l[6]||(l[6]=r=>o.ruleForm.image_name=r),placeholder:"image name"},null,8,["modelValue"])]),_:1}),e(n,{label:"端口",prop:"port",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.port,"onUpdate:modelValue":l[7]||(l[7]=r=>o.ruleForm.port=r),placeholder:"port number"},null,8,["modelValue"])]),_:1}),e(n,{label:"CPU数量",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.cpuCount,"onUpdate:modelValue":l[8]||(l[8]=r=>o.ruleForm.cpuCount=r),placeholder:"CPU count"},null,8,["modelValue"])]),_:1}),e(n,{label:"内存上限",class:"InputBox"},{default:t(()=>[e(u,{modelValue:o.ruleForm.memry,"onUpdate:modelValue":l[9]||(l[9]=r=>o.ruleForm.memry=r),placeholder:"memry limit"},null,8,["modelValue"])]),_:1})]),_:1}))]),_:1}),e(n,null,{default:t(()=>[e(f,{type:"primary",onClick:l[10]||(l[10]=r=>_.submitForm(o.ruleFormRef))},{default:t(()=>[c(" Create ")]),_:1}),e(f,{onClick:l[11]||(l[11]=r=>_.resetForm(o.ruleFormRef))},{default:t(()=>[c("Reset")]),_:1})]),_:1})]),_:1},8,["model","rules","size"])])}const me=x(H,[["render",M],["__scopeId","data-v-2f4d5799"]]);export{me as default};
