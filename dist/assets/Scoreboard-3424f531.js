import{i as b}from"./index-e0333ef0.js";import{d as T}from"./dayjs.min-95ff3633.js";import{_,a as f,b as w,c as Z}from"./flag-7bb99cfb.js";import{_ as k,o as s,c as n,a as t,S as h,T as u,t as d,f as x,p as C,g as P}from"./index-c36c71de.js";import"./_commonjsHelpers-725317a4.js";const M={data(){return{teams:[{id:"1",name:"五五五五五",score:400,solves:[{id:1,time:"2023-08-03T12:30:00Z"},{id:5,time:"2023-08-03T14:00:00Z"},{id:7,time:"2023-08-03T15:45:00Z"},{id:10,time:"2023-08-03T18:20:00Z"}],blood:{1:1,5:2,7:3,10:4}},{id:"2",name:"六六六六六六",score:300,solves:[{id:2,time:"2023-08-03T13:00:00Z"},{id:8,time:"2023-08-03T16:30:00Z"},{id:13,time:"2023-08-03T19:15:00Z"}],blood:{2:5,8:6,13:8}},{id:"3",name:"Team3",score:240,solves:[{id:4,time:"2023-08-03T13:45:00Z"},{id:11,time:"2023-08-03T17:00:00Z"},{id:20,time:"2023-08-03T20:30:00Z"}],blood:{4:9,11:11,20:17}},{id:"4",name:"Team4",score:450,solves:[{id:3,time:"2023-08-03T12:45:00Z"},{id:6,time:"2023-08-03T14:30:00Z"},{id:9,time:"2023-08-03T16:00:00Z"},{id:14,time:"2023-08-03T19:30:00Z"}],blood:{3:7,6:12,9:14,14:19}},{id:"5",name:"Team5",score:350,solves:[{id:1,time:"2023-08-03T12:50:00Z"},{id:7,time:"2023-08-03T15:00:00Z"},{id:12,time:"2023-08-03T18:45:00Z"}],blood:{1:2,7:4,12:16}},{id:"6",name:"Team6",score:200,solves:[{id:2,time:"2023-08-03T13:30:00Z"},{id:8,time:"2023-08-03T16:45:00Z"},{id:15,time:"2023-08-03T20:00:00Z"}],blood:{2:3,8:9,15:18}},{id:"7",name:"Team7",score:480,solves:[{id:1,time:"2023-08-03T12:15:00Z"},{id:4,time:"2023-08-03T13:15:00Z"},{id:6,time:"2023-08-03T14:15:00Z"},{id:9,time:"2023-08-03T15:15:00Z"},{id:11,time:"2023-08-03T16:15:00Z"},{id:13,time:"2023-08-03T17:15:00Z"}],blood:{1:3,4:8,6:10,9:13,11:15,13:20}},{id:"8",name:"Team8",score:320,solves:[{id:3,time:"2023-08-03T13:45:00Z"},{id:7,time:"2023-08-03T15:30:00Z"},{id:10,time:"2023-08-03T18:00:00Z"}],blood:{3:6,7:13,10:16}},{id:"9",name:"Team9",score:250,solves:[{id:4,time:"2023-08-03T13:50:00Z"},{id:6,time:"2023-08-03T14:45:00Z"},{id:8,time:"2023-08-03T15:45:00Z"},{id:11,time:"2023-08-03T16:45:00Z"},{id:13,time:"2023-08-03T17:45:00Z"}],blood:{4:10,6:11,8:12,11:14,13:18}},{id:"10",name:"Team10",score:520,solves:[{id:1,time:"2023-08-03T12:00:00Z"},{id:2,time:"2023-08-03T12:45:00Z"},{id:4,time:"2023-08-03T13:30:00Z"},{id:7,time:"2023-08-03T14:45:00Z"},{id:9,time:"2023-08-03T15:45:00Z"},{id:10,time:"2023-08-03T17:00:00Z"},{id:13,time:"2023-08-03T18:00:00Z"},{id:15,time:"2023-08-03T19:00:00Z"}],blood:{1:4,2:5,4:6,7:9,9:12,10:1,13:17,15:19}},{id:"11",name:"Team11",score:360,solves:[{id:3,time:"2023-08-03T13:15:00Z"},{id:6,time:"2023-08-03T14:15:00Z"},{id:8,time:"2023-08-03T15:15:00Z"},{id:11,time:"2023-08-03T16:30:00Z"}],blood:{3:8,6:13,8:15,11:16}},{id:"12",name:"Team12",score:170,solves:[{id:5,time:"2023-08-03T14:45:00Z"},{id:12,time:"2023-08-03T18:00:00Z"},{id:14,time:"2023-08-03T19:30:00Z"}],blood:{5:6,12:15,14:18}},{id:"13",name:"Team13",score:470,solves:[{id:2,time:"2023-08-03T12:10:00Z"},{id:4,time:"2023-08-03T12:30:00Z"},{id:6,time:"2023-08-03T12:50:00Z"},{id:8,time:"2023-08-03T13:10:00Z"},{id:10,time:"2023-08-03T13:30:00Z"},{id:13,time:"2023-08-03T14:00:00Z"},{id:7,time:"2023-08-03T14:00:00Z"}],blood:{2:1,4:2,6:3,8:4,10:5,13:7,7:3}},{id:"14",name:"Team14",score:340,solves:[{id:1,time:"2023-08-03T12:20:00Z"},{id:4,time:"2023-08-03T13:20:00Z"},{id:9,time:"2023-08-03T16:20:00Z"},{id:11,time:"2023-08-03T17:20:00Z"},{id:13,time:"2023-08-03T18:20:00Z"}],blood:{1:5,4:12,9:11,11:14,13:16}},{id:"15",name:"Team15",score:290,solves:[{id:1,time:"2023-08-03T13:00:00Z"},{id:5,time:"2023-08-03T14:15:00Z"},{id:9,time:"2023-08-03T16:25:00Z"},{id:11,time:"2023-08-03T17:30:00Z"}],blood:{1:7,5:10,9:12,11:15}}],challenges:[{id:1,name:"hedgehog",type:"Web",score:"500",solved:"5",description:"In this web challenge, you need to find and exploit vulnerabilities to obtain the flag. This challenge will test your web vulnerability exploitation skills."},{id:2,name:"abcdefghijklmnopq",type:"Misc",score:"400",solved:"4",description:"This is a multi-disciplinary challenge where you need to use various skills to solve the problem."},{id:3,name:"vulture",type:"Crypto",score:"300",solved:"3",description:"This crypto challenge requires you to use your cryptography knowledge to decrypt an encrypted message."},{id:4,name:"lemur",type:"Reverse",score:"200",solved:"2",description:"This is a reverse engineering challenge where you need to analyze a binary file and find hidden information."},{id:5,name:"otter",type:"Pwn",score:"100",solved:"1",description:"This is a pwn challenge where you need to exploit a vulnerability in a program to obtain the flag."},{id:6,name:"unicorn",type:"Web",score:"500",solved:"5",description:"In this web challenge, you need to find and exploit vulnerabilities to obtain the flag. This challenge will test your web vulnerability exploitation skills."},{id:7,name:"iguana66",type:"Misc",score:"400",solved:"4",description:"This is a multi-disciplinary challenge where you need to use various skills to solve the problem."},{id:8,name:"toucan",type:"Crypto",score:"300",solved:"3",description:"This crypto challenge requires you to use your cryptography knowledge to decrypt an encrypted message."},{id:9,name:"zebra",type:"Reverse",score:"200",solved:"2",description:"This is a reverse engineering challenge where you need to analyze a binary file and find hidden information."},{id:10,name:"narwhal",type:"Pwn",score:"100",solved:"1",description:"This is a pwn challenge where you need to exploit a vulnerability in a program to obtain the flag."},{id:11,name:"flamingo",type:"Web",score:"500",solved:"5",description:"In this web challenge, you need to find and exploit vulnerabilities to obtain the flag. This challenge will test your web vulnerability exploitation skills."},{id:12,name:"jaguar",type:"Misc",score:"400",solved:"4",description:"This is a multi-disciplinary challenge where you need to use various skills to solve the problem."},{id:13,name:"walrus",type:"Crypto",score:"300",solved:"3",description:"This crypto challenge requires you to use your cryptography knowledge to decrypt an encrypted message."},{id:14,name:"abcdefghijklmnopqrstuvwxyz",type:"Reverse",score:"200",solved:"2",description:"This is a reverse engineering challenge where you need to analyze a binary file and find hidden information."},{id:15,name:"monkey",type:"Pwn",score:"100",solved:"1",description:"This is a pwn challenge where you need to exploit a vulnerability in a program to obtain the flag."},{id:16,name:"sloth",type:"Web",score:"500",solved:"5",description:"In this web challenge, you need to find and exploit vulnerabilities to obtain the flag. This challenge will test your web vulnerability exploitation skills."},{id:17,name:"dragon",type:"Misc",score:"400",solved:"4",description:"This is a multi-disciplinary challenge where you need to use various skills to solve the problem."},{id:18,name:"xenops",type:"Crypto",score:"300",solved:"3",description:"This crypto challenge requires you to use your cryptography knowledge to decrypt an encrypted message."},{id:19,name:"rhinoceros",type:"Reverse",score:"200",solved:"2",description:"This is a reverse engineering challenge where you need to analyze a binary file and find hidden information."},{id:20,name:"panda",type:"Pwn",score:"100",solved:"1",description:"This is a pwn challenge where you need to exploit a vulnerability in a program to obtain the flag."},{id:21,name:"elephant",type:"Web",score:"500",solved:"5",description:"In this web challenge, you need to find and exploit vulnerabilities to obtain the flag. This challenge will test your web vulnerability exploitation skills."},{id:22,name:"quokka",type:"Misc",score:"400",solved:"4",description:"This is a multi-disciplinary challenge where you need to use various skills to solve the problem."},{id:23,name:"giraffe",type:"Crypto",score:"300",solved:"3",description:"This crypto challenge requires you to use your cryptography knowledge to decrypt an encrypted message."},{id:24,name:"hedgehog",type:"Reverse",score:"200",solved:"2",description:"This is a reverse engineering challenge where you need to analyze a binary file and find hidden information."},{id:25,name:"otter",type:"Pwn",score:"100",solved:"1",description:"This is a pwn challenge where you need to exploit a vulnerability in a program to obtain the flag."},{id:26,name:"koala",type:"Web",score:"500",solved:"5",description:"In this web challenge, you need to find and exploit vulnerabilities to obtain the flag. This challenge will test your web vulnerability exploitation skills."},{id:27,name:"unicorn",type:"Misc",score:"400",solved:"4",description:"This is a multi-disciplinary challenge where you need to use various skills to solve the problem."},{id:28,name:"iguana",type:"Crypto",score:"300",solved:"3",description:"This crypto challenge requires you to use your cryptography knowledge to decrypt an encrypted message."},{id:29,name:"lemur",type:"Reverse",score:"200",solved:"2",description:"This is a reverse engineering challenge where you need to analyze a binary file and find hidden information."},{id:30,name:"toucan",type:"Pwn",score:"100",solved:"1",description:"This is a pwn challenge where you need to exploit a vulnerability in a program to obtain the flag."}],id:0,user:{},totalScore:null,myChart:null}},methods:{toProfile(e){this.$router.push("/profile/"+e)},getMisc(){return this.challenges.filter(e=>e.type==="Misc")},getWeb(){return this.challenges.filter(e=>e.type==="Web")},getCrypto(){return this.challenges.filter(e=>e.type==="Crypto")},getReverse(){return this.challenges.filter(e=>e.type==="Reverse")},getPwn(){return this.challenges.filter(e=>e.type==="Pwn")},async createGraph(){const e=this.buildGraphData();if(e===!1){const p=document.querySelector("#score-graph");p.innerHTML='<h3 class="opacity-50 text-center w-100 justify-content-center align-self-center">No solves yet</h3>';return}const r=document.querySelector("#score-graph");r.innerHTML="";let a=b(r);a.setOption(e),window.addEventListener("resize",()=>{a!=null&&a!=null&&a.resize()})},buildGraphData(){const e=this.sortedTeams.slice(0,10);if(e.length===0)return!1;const r={title:{left:"center",text:"前十名得分情况"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{type:"scroll",orient:"horizontal",align:"left",bottom:35,data:[]},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},saveAsImage:{}}},grid:{containLabel:!0},xAxis:[{type:"time",boundaryGap:!1,data:[]}],yAxis:[{type:"value"}],dataZoom:[{id:"dataZoomX",type:"slider",xAxisIndex:[0],filterMode:"filter",height:20,top:35,fillerColor:"rgba(233, 236, 241, 0.4)"}],series:[]};for(let a=0;a<10;a++){const p=[],m=[];for(let c=0;c<e[a].solves.length;c++){p.push(this.challenges.find(v=>e[a].solves[c].id===v.id).score);const g=T(e[a].solves[c].time);m.push(g.toDate())}const l=this.cumulativeSum(p),i=m.map(function(c,g){return[c,l[g]]});r.legend.data.push(e[a].name);const o={name:e[a].name,type:"line",label:{normal:{position:"top"}},emphasis:{focus:"series"},data:i};r.series.push(o)}return r},cumulativeSum(e){return e.reduce((r,a)=>{const p=parseInt(a,10);if(!isNaN(p)){const m=(r.length>0?parseInt(r[r.length-1],10):0)+p;r.push(m.toString())}return r},[])}},computed:{getMiscNum(){return this.challenges.filter(e=>e.type==="Misc").length},getWebNum(){return this.challenges.filter(e=>e.type==="Web").length},getCryptoNum(){return this.challenges.filter(e=>e.type==="Crypto").length},getReverseNum(){return this.challenges.filter(e=>e.type==="Reverse").length},getPwnNum(){return this.challenges.filter(e=>e.type==="Pwn").length},sortedTeams(){return this.teams.slice().sort((e,r)=>r.score-e.score)},sortedChal(){return this.getMisc().concat(this.getWeb()).concat(this.getCrypto()).concat(this.getReverse()).concat(this.getPwn())}},mounted(){this.createGraph();const e=document.getElementById("scroll");let r=!1,a,p;e.addEventListener("mousedown",m=>{r=!0,a=m.pageX-e.offsetLeft,p=e.scrollLeft}),e.addEventListener("mouseleave",()=>{r=!1}),e.addEventListener("mouseup",()=>{r=!1}),e.addEventListener("mousemove",m=>{if(!r)return;m.preventDefault();const i=(m.pageX-e.offsetLeft-a)*2;e.scrollLeft=p-i})}},y=e=>(C("data-v-19acefbb"),e=e(),P(),e),R={class:"background"},I={class:"scoreboard-container"},N=y(()=>t("h1",{class:"scoreboard-title"},"Scoreboard",-1)),S={ref:"chart",id:"score-graph",class:"Chart-container",style:{width:"80%",height:"500px"}},W={class:"table-container matrix",id:"scroll"},L={id:"scoreboard",class:"table table-striped"},q=y(()=>t("th",{width:"5%",rowspan:"3",style:{"vertical-align":"bottom"}},[t("b",null,"Rank")],-1)),z=y(()=>t("th",{width:"20%",rowspan:"3",style:{"vertical-align":"bottom","min-width":"200px"}},[t("b",null,"Name")],-1)),E=y(()=>t("th",{width:"10%",rowspan:"3",style:{"vertical-align":"bottom","min-width":"100px"}},[t("b",null,"Score")],-1)),j=["colspan"],D=y(()=>t("b",null,"MISC",-1)),A=[D],B=["colspan"],G=y(()=>t("b",null,"WEB",-1)),X=[G],V=["colspan"],H=y(()=>t("b",null,"CRYPTO",-1)),O=[H],F=["colspan"],Y=y(()=>t("b",null,"REVERSE",-1)),J=[Y],K=["colspan"],Q=y(()=>t("b",null,"PWN",-1)),U=[Q],$=["title"],ee=["title"],te=["title"],ie=["title"],se=["title"],ne=["title"],oe=["title"],le=["title"],re=["title"],ae=["title"],de=["onClick"],ce={key:0},he={key:0,src:_,width:"100%",height:"100%"},ue={key:1,src:f,width:"100%",height:"100%"},pe={key:2,src:w,width:"100%",height:"100%"},me={key:3,src:Z,width:"100%",height:"100%"};function ye(e,r,a,p,m,l){return s(),n("div",R,[t("div",I,[N,t("div",S,null,512),t("div",W,[t("table",L,[t("thead",null,[t("tr",null,[q,z,E,t("th",{"data-halign":"center","data-align":"center",colspan:l.getMiscNum,style:{"text-align":"center"}},A,8,j),t("th",{"data-halign":"center","data-align":"center",colspan:l.getWebNum,style:{"text-align":"center"}},X,8,B),t("th",{"data-halign":"center","data-align":"center",colspan:l.getCryptoNum,style:{"text-align":"center"}},O,8,V),t("th",{"data-halign":"center","data-align":"center",colspan:l.getReverseNum,style:{"text-align":"center"}},J,8,F),t("th",{"data-halign":"center","data-align":"center",colspan:l.getPwnNum,style:{"text-align":"center"}},U,8,K)]),t("tr",null,[(s(!0),n(h,null,u(l.getMisc(),(i,o)=>(s(),n("th",{key:o,class:"chalname",title:i.type},[t("div",null,[t("span",null,d(i.name),1)])],8,$))),128)),(s(!0),n(h,null,u(l.getWeb(),(i,o)=>(s(),n("th",{key:o,class:"chalname",title:i.type},[t("div",null,[t("span",null,d(i.name),1)])],8,ee))),128)),(s(!0),n(h,null,u(l.getCrypto(),(i,o)=>(s(),n("th",{key:o,class:"chalname",title:i.type},[t("div",null,[t("span",null,d(i.name),1)])],8,te))),128)),(s(!0),n(h,null,u(l.getReverse(),(i,o)=>(s(),n("th",{key:o,class:"chalname",title:i.type},[t("div",null,[t("span",null,d(i.name),1)])],8,ie))),128)),(s(!0),n(h,null,u(l.getPwn(),(i,o)=>(s(),n("th",{key:o,class:"chalname",title:i.type},[t("div",null,[t("span",null,d(i.name),1)])],8,se))),128))]),t("tr",null,[(s(!0),n(h,null,u(l.getMisc(),(i,o)=>(s(),n("th",{key:o,class:"score",title:i.type},[t("div",null,[t("span",null,d(i.score),1)])],8,ne))),128)),(s(!0),n(h,null,u(l.getWeb(),(i,o)=>(s(),n("th",{key:o,class:"score",title:i.type},[t("div",null,[t("span",null,d(i.score),1)])],8,oe))),128)),(s(!0),n(h,null,u(l.getCrypto(),(i,o)=>(s(),n("th",{key:o,class:"score",title:i.type},[t("div",null,[t("span",null,d(i.score),1)])],8,le))),128)),(s(!0),n(h,null,u(l.getReverse(),(i,o)=>(s(),n("th",{key:o,class:"score",title:i.type},[t("div",null,[t("span",null,d(i.score),1)])],8,re))),128)),(s(!0),n(h,null,u(l.getPwn(),(i,o)=>(s(),n("th",{key:o,class:"score",title:i.type},[t("div",null,[t("span",null,d(i.score),1)])],8,ae))),128))])]),t("tbody",null,[(s(!0),n(h,null,u(l.sortedTeams,(i,o)=>(s(),n("tr",{key:o},[t("td",null,d(o+1),1),t("td",{onClick:c=>l.toProfile(i.id),class:"toProfile"},d(i.name),9,de),t("td",null,d(i.score),1),(s(!0),n(h,null,u(l.sortedChal,(c,g)=>(s(),n("td",{class:"chalmark",key:g},[i.solves.find(v=>v.id===c.id)?(s(),n("div",ce,[i.blood[c.id]===1?(s(),n("img",he)):i.blood[c.id]===2?(s(),n("img",ue)):i.blood[c.id]===3?(s(),n("img",pe)):(s(),n("img",me))])):x("",!0)]))),128))]))),128))])])])])])}const fe=k(M,[["render",ye],["__scopeId","data-v-19acefbb"]]);export{fe as default};
